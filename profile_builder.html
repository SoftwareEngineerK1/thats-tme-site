<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>T.M.E | Join the Network</title>
    <style>
        :root { --gold: #D4AF37; --black: #0A0A0A; --white: #FFFFFF; --dark: #1e1e1e; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: var(--black); color: var(--white); }

        nav { display: flex; justify-content: flex-end; padding: 30px 40px; }
        nav a { color: var(--white); text-decoration: none; margin-left: 25px; font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase; }
        nav a:hover { color: var(--gold); }

        .form-card { background: var(--dark); border: 1px solid rgba(212, 175, 55, 0.2); padding: 40px; border-radius: 12px; width: 95%; max-width: 800px; margin: 20px auto; }
        .step { display: none; }
        .step.active { display: block; }
        label { display: block; margin: 20px 0 8px; color: var(--gold); font-size: 0.75em; text-transform: uppercase; font-weight: bold; }
        input, select { width: 100%; padding: 12px; background: #2a2a2a; border: 1px solid #333; border-radius: 4px; color: white; margin-bottom: 10px; }
        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 8px; max-height: 200px; overflow-y: auto; padding: 15px; background: #181818; border-radius: 8px; }
        .check-item { display: flex; align-items: center; font-size: 0.8em; }
        .check-item input { width: auto; margin-right: 10px; }
        .btn-nav { background: none; border: 1px solid var(--gold); color: var(--gold); padding: 10px 25px; cursor: pointer; margin-top: 20px; }
        .btn-submit { background: var(--gold); color: black; font-weight: bold; border: none; }
    </style>
</head>
<body>
    <nav>
        <a href="homepage.html">Home</a>
        <a href="about_us.html">About</a>
        <a href="profile_builder.html">Join</a>
    </nav>

    <div class="form-card">
        <form id="profileForm" name="tme-onboarding" method="POST" data-netlify="true" action="/profile_builder.html">
            <input type="hidden" name="form-name" value="tme-onboarding" />
            
            <div class="step active" id="step1">
                <label>Full Name</label>
                <input type="text" name="full_name" id="name" required>
                <label>Email</label>
                <input type="email" name="email" id="email" required>
                <label>Zip Code</label>
                <input type="text" name="zip" id="zip">
                <button type="button" class="btn-nav" onclick="nextStep(2)">Next</button>
            </div>

            <div class="step" id="step2">
                <label>Interests</label>
                <div class="grid-container" id="catGrid"></div>
                <button type="button" class="btn-nav" onclick="nextStep(1)">Back</button>
                <button type="submit" class="btn-nav btn-submit">Complete</button>
            </div>
        </form>
    </div>

    <script>
        const cats = ["Nightlife", "Art", "Food", "Tech", "Wellness", "Music", "Business", "Fashion"];
        const grid = document.getElementById('catGrid');
        cats.forEach(c => {
            grid.innerHTML += `<div class="check-item"><input type="checkbox" name="categories" value="${c}"> ${c}</div>`;
        });

        function nextStep(s) {
            document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
            document.getElementById('step' + s).classList.add('active');
        }

        document.getElementById('profileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            fetch("/profile_builder.html", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: new URLSearchParams(formData).toString(),
            }).then(() => {
                window.location.href = 'thanks_for_joining.html?' + new URLSearchParams(formData).toString();
            });
        });
    </script>
</body>
</html>